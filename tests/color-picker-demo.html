<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LAS Color Picker Demo</title>
    <link rel="stylesheet" href="../assets/css/design-system.css">
    <link rel="stylesheet" href="../assets/css/color-picker.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            padding: 2rem;
            background: var(--las-neutral-50);
            color: var(--las-neutral-900);
        }
        
        .demo-container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .demo-section {
            background: white;
            padding: 2rem;
            border-radius: var(--las-radius-lg);
            box-shadow: var(--las-shadow-md);
            margin-bottom: 2rem;
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .demo-item {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .demo-label {
            font-weight: 600;
            color: var(--las-neutral-700);
        }
        
        .theme-toggle {
            position: fixed;
            top: 1rem;
            right: 1rem;
            padding: 0.5rem 1rem;
            background: var(--las-primary-500);
            color: white;
            border: none;
            border-radius: var(--las-radius-md);
            cursor: pointer;
            font-weight: 500;
        }
        
        .color-value-display {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.875rem;
            color: var(--las-neutral-600);
            background: var(--las-neutral-100);
            padding: 0.5rem;
            border-radius: var(--las-radius-sm);
            margin-top: 0.5rem;
        }
        
        .demo-description {
            color: var(--las-neutral-600);
            font-size: 0.875rem;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()">Toggle Theme</button>
    
    <div class="demo-container">
        <h1>Live Admin Styler - Color Picker Component</h1>
        <p class="demo-description">
            This demo showcases the accessible color picker component with keyboard navigation, 
            contrast validation, and palette management features.
        </p>
        
        <div class="demo-section">
            <h2>Basic Color Pickers</h2>
            <div class="demo-grid">
                <div class="demo-item">
                    <label class="demo-label">Primary Color</label>
                    <div id="color-picker-1"></div>
                    <div class="color-value-display" id="value-1">#2271b1</div>
                </div>
                
                <div class="demo-item">
                    <label class="demo-label">Secondary Color</label>
                    <div id="color-picker-2"></div>
                    <div class="color-value-display" id="value-2">#d63638</div>
                </div>
                
                <div class="demo-item">
                    <label class="demo-label">Success Color</label>
                    <div id="color-picker-3"></div>
                    <div class="color-value-display" id="value-3">#00a32a</div>
                </div>
                
                <div class="demo-item">
                    <label class="demo-label">Warning Color</label>
                    <div id="color-picker-4"></div>
                    <div class="color-value-display" id="value-4">#dba617</div>
                </div>
            </div>
        </div>
        
        <div class="demo-section">
            <h2>Custom Palette Color Picker</h2>
            <p class="demo-description">
                This color picker uses a custom palette with brand colors and includes 
                contrast validation against white and black backgrounds.
            </p>
            <div class="demo-item">
                <label class="demo-label">Brand Color</label>
                <div id="color-picker-custom"></div>
                <div class="color-value-display" id="value-custom">#2271b1</div>
            </div>
        </div>
        
        <div class="demo-section">
            <h2>Accessibility Features</h2>
            <ul>
                <li><strong>Keyboard Navigation:</strong> Use Tab to navigate, Arrow keys in palette, Enter/Space to select</li>
                <li><strong>Screen Reader Support:</strong> Full ARIA labels and descriptions</li>
                <li><strong>Contrast Validation:</strong> Real-time WCAG 2.1 AA/AAA compliance checking</li>
                <li><strong>Focus Management:</strong> Proper focus trapping and restoration</li>
                <li><strong>High Contrast Mode:</strong> Enhanced borders and visibility</li>
                <li><strong>Reduced Motion:</strong> Respects prefers-reduced-motion setting</li>
            </ul>
        </div>
        
        <div class="demo-section">
            <h2>Usage Instructions</h2>
            <ol>
                <li>Click on any color preview to open the color picker</li>
                <li>Use the color input or hex field to select colors</li>
                <li>Navigate the palette with keyboard arrows</li>
                <li>Check contrast ratios in the validation section</li>
                <li>Press Escape to close or click outside the picker</li>
                <li>Use the theme toggle to test dark mode compatibility</li>
            </ol>
        </div>
    </div>
    
    <script src="../assets/js/color-picker.js"></script>
    <script>
        // Initialize color pickers
        const colorPickers = [];
        
        // Basic color pickers
        const picker1 = new LASColorPicker(document.getElementById('color-picker-1'), {
            defaultColor: '#2271b1'
        });
        colorPickers.push(picker1);
        
        const picker2 = new LASColorPicker(document.getElementById('color-picker-2'), {
            defaultColor: '#d63638'
        });
        colorPickers.push(picker2);
        
        const picker3 = new LASColorPicker(document.getElementById('color-picker-3'), {
            defaultColor: '#00a32a'
        });
        colorPickers.push(picker3);
        
        const picker4 = new LASColorPicker(document.getElementById('color-picker-4'), {
            defaultColor: '#dba617'
        });
        colorPickers.push(picker4);
        
        // Custom palette picker
        const customPicker = new LASColorPicker(document.getElementById('color-picker-custom'), {
            defaultColor: '#2271b1',
            palette: [
                '#2271b1', '#135e96', '#0073aa', '#005177',
                '#72aee6', '#4f94d4', '#3582c4', '#1e40af',
                '#d63638', '#b32d2e', '#8a2424', '#691a1a',
                '#00a32a', '#007017', '#005a1f', '#004515',
                '#dba617', '#b8860b', '#996b0b', '#7a5208',
                '#6366f1', '#4f46e5', '#4338ca', '#3730a3'
            ]
        });
        colorPickers.push(customPicker);
        
        // Add event listeners to update value displays
        picker1.element.addEventListener('las-color-change', (e) => {
            document.getElementById('value-1').textContent = e.detail.color;
        });
        
        picker2.element.addEventListener('las-color-change', (e) => {
            document.getElementById('value-2').textContent = e.detail.color;
        });
        
        picker3.element.addEventListener('las-color-change', (e) => {
            document.getElementById('value-3').textContent = e.detail.color;
        });
        
        picker4.element.addEventListener('las-color-change', (e) => {
            document.getElementById('value-4').textContent = e.detail.color;
        });
        
        customPicker.element.addEventListener('las-color-change', (e) => {
            document.getElementById('value-custom').textContent = e.detail.color;
        });
        
        // Theme toggle functionality
        let isDark = false;
        
        function toggleTheme() {
            isDark = !isDark;
            document.documentElement.setAttribute('data-theme', isDark ? 'dark' : 'light');
        }
        
        // Initialize with light theme
        document.documentElement.setAttribute('data-theme', 'light');
        
        // Log events for debugging
        colorPickers.forEach((picker, index) => {
            picker.element.addEventListener('las-color-picker-open', (e) => {
                console.log(`Color picker ${index + 1} opened:`, e.detail);
            });
            
            picker.element.addEventListener('las-color-picker-close', (e) => {
                console.log(`Color picker ${index + 1} closed:`, e.detail);
            });
            
            picker.element.addEventListener('las-color-change', (e) => {
                console.log(`Color picker ${index + 1} changed:`, e.detail);
            });
        });
    </script>
</body>
</html>